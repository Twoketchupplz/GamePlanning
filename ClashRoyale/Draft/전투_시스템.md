# 전투 시스템
<img src = "../Image/Flowchart/battle_sys_og.jpg">

(아래 설명에 state 별로 강조표시 한다.)

### 전투 진행 과정
1. 전투의 승패는 획득한 크라운의 개수로 결정한다.
    - 두  유저는 상대방 타워를 파괴하면 크라운을 얻을 수 있다.
        - img: 크라운을 획득하는 이미지
    - 파괴한 타워 하나당 크라운 한 개를 획득하며, 상대방의 킹타워를 파괴 시 상대방의 남은 타워를 모두 파괴한다.
        - img: 킹타워가 부서지며 남은 타워가 모두 파괴되어 크라운을 획득하는 이미지
    - 3개의 크라운을 획득한 플레이어가 있는 경우 전투 결과화면이 출력되고 전투는 종료된다.

1. 전투 시간에 따라 추가 룰이 적용된다.
    - 전투 시작: 자원에 해당하는 엘릭서의 회복속도 계수는 1이다.
    - 2분 이후: 엘릭서 회복속도 계수는 2가 된다.
    - 3분 이후: 양측 유저가 획득한 크라운 개수를 비교한다. 더 많은 사람이 승리한다.
        - 만약 크라운 개수가 동일한 경우 [서든데스](#각주) 룰을 적용한다.
        
    - 4분 이후: 엘릭서 회복속도 계수는 3이 된다.
    - 5분: 아직 승부가 나지 않았다면 전투를 중단하고 [타이브레이커](#각주) 룰을 적용한다.

1. 전투 종료 시 획득한 크라운의 개수를 비교하여 전투 결과를 출력한다.
    - 획득한 크라운의 개수가 동일한 경우 무승부가 된다.

### UI
1. 시작화면
    - 나와 상대, 아레나, 모드
1. 게임씬 기본화면
    - 상대방 정보, 남은시간, 중앙정보텍스트, 스코어,핸드(카드와 엘릭서)
1. 카드
    - Touch, Hold, Drag 등등
1. 카드에서 생성된 오브젝트
    - 유닛
    - 건물
    - 마법
1. 감정표현 버튼
    - Touch

### 각주
- 서든데스: 추가 크라운을 획득한 플레이어가 전투에서 즉시 승리하는 규칙.
- 타이브레이커: 파괴되지 않은 타워들의 남은 체력을 비교하여 가장 체력이 적게 남은 타워를 파괴하는 규칙.